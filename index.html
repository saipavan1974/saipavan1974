<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- UPDATED SEO for Innovator positioning -->
  <meta content="BPK Technologies builds a smart asset intelligence and preventative maintenance platform for SMEs in the UK‚Äîtracking assets, predicting failures, and reducing downtime with data-driven insights." name="description"/>
  <meta content="asset management platform, predictive maintenance, smart asset intelligence, SME downtime reduction, preventative maintenance software, IT asset tracking UK, analytics dashboard" name="keywords"/>
  <meta content="BPK Technologies (BPK Computer Services)" name="author"/>

  <title>BPK Technologies | Smart Asset Intelligence & Predictive Maintenance</title>

  <!-- Google Analytics (kept) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Y0P5TXK2T"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7Y0P5TXK2T');
  </script>

  <!-- Fonts / Icons (kept) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Structured Data (NEW) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"BPK Technologies (BPK Computer Services)",
    "url":"https://bpkcomputer.org/",
    "address":{"@type":"PostalAddress","addressLocality":"Preston","addressCountry":"GB"},
    "sameAs":["https://www.facebook.com/share/1ASn3THFMY/?mibextid=wwXIfr"]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"BPK Smart Asset Platform",
    "applicationCategory":"BusinessApplication",
    "operatingSystem":"Web",
    "description":"A smart asset intelligence and preventative maintenance platform for SMEs. Tracks assets, predicts risk, and automates maintenance workflows to reduce downtime."
  }
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
    body { background-color: #f4f7fb; color: #1a1a1a; }

    header {
      background-color: #0a3d62;
      padding: 20px 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      color: #fff;
    }

    .company-title {
      display: flex;
      align-items: center;
      gap: 15px;
      font-size: 1.6em;
      font-weight: bold;
    }

    .company-title img { height: 70px; border-radius: 50%; }

    .nav-buttons { display: flex; gap: 10px; flex-wrap: wrap; }

    .nav-buttons a {
      color: #fff;
      text-decoration: none;
      font-weight: 500;
      padding: 10px 18px;
      border-radius: 8px;
      background-color: #3498db;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: background-color 0.3s ease;
      white-space: nowrap;
    }

    .nav-buttons a:hover { background-color: #2a80b9; }

    .hero {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 60px 20px;
      background-color: #0a3d62;
      color: white;
      text-align: center;
    }
    .hero h1 { font-size: 2.5em; margin-bottom: 16px; max-width: 1000px; }
    .hero p { font-size: 1.15em; margin-bottom: 18px; max-width: 950px; line-height: 1.6; }
    .hero .sub {
      font-size: 0.95em;
      opacity: 0.92;
      max-width: 950px;
      line-height: 1.6;
    }

    .contact-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      margin-top: 26px;
    }

    .contact-buttons a {
      background-color: #3498db;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: background-color 0.3s ease;
    }
    .contact-buttons a:hover { background-color: #2a80b9; }

    .badges {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 20px;
    }
    .badge {
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 0.9em;
    }

    .whatsapp-float {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #25D366;
      color: white;
      border-radius: 50%;
      font-size: 28px;
      padding: 16px;
      z-index: 1000;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: background-color 0.3s ease;
    }
    .whatsapp-float:hover { background-color: #128C7E; text-decoration: none; }

    .slideshow-container {
      max-width: 800px;
      position: relative;
      margin: 2em auto;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    .mySlides { display: none; }
    .fade { animation: fadeEffect 1.5s; }
    @keyframes fadeEffect { from {opacity: 0.4} to {opacity: 1} }

    .services { padding: 60px 20px; text-align: center; }
    .services h2 { font-size: 2em; margin-bottom: 10px; }
    .services .desc { max-width: 900px; margin: 10px auto 35px; color: #4b5563; line-height: 1.6; }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      max-width: 1100px;
      margin: 0 auto;
    }

    .card {
      background: white;
      padding: 22px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
      text-align: center;
    }

    .card i { font-size: 2em; margin-bottom: 10px; color: #0a3d62; }
    .card h3 { margin-bottom: 8px; }
    .card p { color: #4b5563; line-height: 1.5; }

    .card:hover { transform: translateY(-5px); }

    /* NEW: Innovation section */
    .innovation {
      padding: 60px 20px;
      background: #ffffff;
      text-align: center;
    }
    .innovation h2 { font-size: 2em; margin-bottom: 12px; }
    .innovation .desc {
      max-width: 950px;
      margin: 0 auto 35px;
      color: #4b5563;
      line-height: 1.6;
    }
    .pill-grid {
      max-width: 1100px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 18px;
    }
    .pill {
      background: #f4f7fb;
      border: 1px solid #e5e7eb;
      border-radius: 14px;
      padding: 18px;
      text-align: left;
    }
    .pill h3 { color: #0a3d62; margin-bottom: 8px; }
    .pill ul { margin-left: 18px; color: #374151; line-height: 1.7; }

    /* Testimonials (kept) */
    .testimonials {
      background: #fff;
      padding: 60px 20px;
      text-align: center;
    }
    .testimonials h2 { margin-bottom: 30px; }

    .testimonial-slider { position: relative; overflow: hidden; max-width: 100%; margin-top: 30px; }
    .testimonial-track { display: flex; transition: transform 0.5s ease-in-out; gap: 20px; }
    .testimonial-card {
      background: #ffffff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      min-width: 300px;
      max-width: 300px;
      flex-shrink: 0;
      text-align: center;
    }
    .testimonial-card img { width: 70px; height: 70px; border-radius: 50%; margin-bottom: 10px; }
    .testimonial-card h3 { font-size: 1em; margin-bottom: 10px; color: #0a3d62; }
    .testimonial-card p { font-style: italic; font-size: 0.95em; margin-bottom: 10px; }
    .testimonial-card .stars { color: #f1c40f; font-size: 1.1em; }

    .testimonial-slider .prev,
    .testimonial-slider .next {
      position: absolute;
      top: 40%;
      transform: translateY(-50%);
      background-color: #3498db;
      border: none;
      color: white;
      font-size: 2em;
      padding: 10px 15px;
      cursor: pointer;
      z-index: 1;
      border-radius: 50%;
      user-select: none;
    }
    .testimonial-slider .prev:hover,
    .testimonial-slider .next:hover { background-color: #2a80b9; }
    .testimonial-slider .prev { left: 10px; }
    .testimonial-slider .next { right: 10px; }

    /* =========================
       NEW: Review Section (added)
       ========================= */
    .reviews {
      background: #ffffff;
      padding: 60px 20px;
      text-align: center;
    }

    .reviews h2 { margin-bottom: 10px; font-size: 2em; }
    .reviews .desc {
      max-width: 900px;
      margin: 0 auto 30px;
      color: #4b5563;
      line-height: 1.6;
    }

    .review-wrap {
      max-width: 950px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1.05fr 0.95fr;
      gap: 20px;
    }

    .review-card {
      background: #f4f7fb;
      border: 1px solid #e5e7eb;
      border-radius: 14px;
      padding: 18px;
      text-align: left;
    }

    .review-card h3 { color: #0a3d62; margin-bottom: 10px; }

    .review-form { display: grid; gap: 12px; }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .review-form label {
      font-weight: 600;
      font-size: 0.95em;
      color: #111827;
    }

    .review-form input,
    .review-form textarea {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      outline: none;
      background: #fff;
    }

    .review-form textarea { min-height: 110px; resize: vertical; }

    .review-actions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }

    .review-btn {
      background-color: #3498db;
      color: white;
      padding: 11px 16px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-weight: 700;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      transition: background-color .3s ease;
    }
    .review-btn:hover { background-color: #2a80b9; }

    .review-muted { color: #4b5563; font-size: 0.92em; line-height: 1.5; }

    .star-picker { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }

    .stars { display: inline-flex; gap: 6px; font-size: 1.3em; }

    .star {
      cursor: pointer;
      color: #d1d5db;
      transition: transform .15s ease, color .15s ease;
      user-select: none;
    }
    .star:hover { transform: translateY(-1px); }
    .star.active { color: #f1c40f; }

    .small-hint { font-size: 0.85em; color: #6b7280; margin-top: 4px; }

    .review-list { display: grid; gap: 12px; margin-top: 12px; }

    .user-review {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 14px;
    }

    .user-review .top {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }

    .user-review .name { font-weight: 800; color: #0a3d62; }
    .user-review .meta { color: #6b7280; font-size: 0.9em; }
    .user-review .body { margin-top: 8px; color: #374151; line-height: 1.6; }

    .review-toast {
      display: none;
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 10px;
      font-weight: 600;
    }
    .review-toast.ok { display: block; background: #ecfdf5; border: 1px solid #a7f3d0; color: #065f46; }
    .review-toast.err { display: block; background: #fef2f2; border: 1px solid #fecaca; color: #991b1b; }

    /* Responsive (kept & small improvements) */
    @media (max-width: 768px) {
      header { flex-direction: column; align-items: center; padding: 15px; text-align: center; }
      .company-title { flex-direction: column; justify-content: center; text-align: center; font-size: 1.3em; margin-bottom: 15px; }
      .company-title img { height: 70px; }
      .nav-buttons { flex-direction: column; align-items: center; width: 100%; gap: 10px; }
      .nav-buttons a { display: block; width: 90%; font-size: 1em; padding: 12px; text-align: center; border-radius: 6px; }
      .hero h1 { font-size: 1.8em; padding: 0 10px; }
      .hero p { font-size: 1em; padding: 0 10px; }
      .contact-buttons { flex-direction: column; width: 100%; gap: 10px; }
      .testimonial-card { min-width: 90%; max-width: 90%; }
      .services h2, .testimonials h2, .innovation h2, .reviews h2 { font-size: 1.5em; }
      .card i { font-size: 1.5em; }
      .slideshow-container { width: 100%; }

      /* Reviews responsive */
      .review-wrap { grid-template-columns: 1fr; }
      .form-row { grid-template-columns: 1fr; }
    }

    .footer {
      background-color: #0a3d62;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 0.9em;
    }
    .footer .gdpr { margin-top: 10px; font-size: 0.8em; color: #ddd; }
  </style>
</head>

<body>

<header>
  <div class="company-title">
    <img src="logo.png" alt="Logo" />
    <div>
      <strong>BPK</strong> Technologies<br/>
      <span style="font-weight:600; font-size:0.65em; opacity:0.9;">Smart Asset Intelligence (Platform-led)</span>
    </div>
  </div>

  <nav class="nav-buttons">
    <a href="index.html"><i class="fas fa-house"></i> Home</a>
    <a href="#platform"><i class="fas fa-layer-group"></i> Platform</a>
    <a href="#innovation"><i class="fas fa-lightbulb"></i> Innovation</a>
    <a href="#support"><i class="fas fa-screwdriver-wrench"></i> Support</a>
    <a href="#reviews"><i class="fas fa-star"></i> Reviews</a>
    <a href="pricing.html"><i class="fas fa-tag"></i> Pricing</a>
    <a href="shop.html"><i class="fas fa-cart-shopping"></i> Shop</a>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLScvumeVkE4N7ekexRfM8I2mFqOVju0AdkAEdTnH0RyyWDeHow/viewform" target="_blank">
      <i class="fas fa-paper-plane"></i> Request Demo
    </a>
  </nav>
</header>

<!-- Hero Section (UPDATED) -->
<section class="hero">
  <h1>Smart Asset Intelligence & Predictive Maintenance for UK SMEs</h1>
  <p>
    We build a platform that helps businesses <b>track assets</b>, <b>predict failures</b>, and <b>automate preventative maintenance</b>
    across IT devices and selected equipment‚Äîreducing downtime and improving reliability.
  </p>
  <div class="sub">
    Existing break-fix services are available, but our primary focus is a <b>scalable technology platform</b> designed for national growth.
  </div>

  <div class="badges">
    <div class="badge"><i class="fas fa-chart-line"></i> Health scoring</div>
    <div class="badge"><i class="fas fa-bell"></i> Risk alerts</div>
    <div class="badge"><i class="fas fa-calendar-check"></i> Preventative schedules</div>
    <div class="badge"><i class="fas fa-file-lines"></i> Analytics reports</div>
  </div>

  <div class="contact-buttons">
    <a href="https://docs.google.com/forms/d/e/1FAIpQLScvumeVkE4N7ekexRfM8I2mFqOVju0AdkAEdTnH0RyyWDeHow/viewform" class="cta" target="_blank">
      <i class="fas fa-rocket"></i> Join Pilot / Request Demo
    </a>
    <a href="https://wa.me/447818955500?text=Hi%20BPK%20Technologies%2C%20I%20want%20a%20demo%20of%20your%20asset%20platform%20for%20my%20business." class="cta" target="_blank">
      <i class="fab fa-whatsapp"></i> WhatsApp (Platform Demo)
    </a>
  </div>

  <a href="https://wa.me/447818955500?text=Hi%20BPK%20Technologies%2C%20I%20want%20a%20demo%20of%20your%20asset%20platform%20for%20my%20business."
     class="whatsapp-float" target="_blank" aria-label="Chat on WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>
</section>

<!-- Slideshow (kept) -->
<div class="slideshow-container">
  <div class="mySlides fade"><img src="computer_repair_technician.jpg" alt="Slide 1" style="width:100%"></div>
  <div class="mySlides fade"><img src="difference-computer-repair-and-support-1.jpg" alt="Slide 2" style="width:100%"></div>
  <div class="mySlides fade"><img src="laptop-repair-box-1.jpg" alt="Slide 3" style="width:100%"></div>
  <div class="mySlides fade"><img src="Professional-Computer-Repair-Technician.png" alt="Slide 4" style="width:100%"></div>
</div>

<script>
  let slideIndex = 0;
  function showSlides() {
    const slides = document.getElementsByClassName("mySlides");
    for (let i = 0; i < slides.length; i++) slides[i].style.display = "none";
    slideIndex++;
    if (slideIndex > slides.length) slideIndex = 1;
    slides[slideIndex - 1].style.display = "block";
    setTimeout(showSlides, 4000);
  }
  document.addEventListener("DOMContentLoaded", showSlides);
</script>

<!-- Marquee (UPDATED positioning) -->
<marquee style="background: #0073e6; color: white; padding: 0.5em; font-weight: bold;">
  üöÄ Pilot programme now open for UK SMEs ‚Äî Reduce downtime with BPK Smart Asset Intelligence Platform (Preston ‚Üí UK-wide rollout).
</marquee>

<!-- PLATFORM (NEW: replaces old repair-only services as core) -->
<section class="services" id="platform">
  <h2>BPK Platform Modules</h2>
  <div class="desc">
    The platform is designed to be scalable and evidence-driven: collect health signals, convert them into risk scores,
    and automate preventative actions. Implementation support is available to help SMEs adopt quickly.
  </div>

  <div class="grid">
    <div class="card">
      <i class="fas fa-boxes-stacked"></i>
      <h3>Asset Inventory</h3>
      <p>Track laptops, desktops, network devices and equipment. Tag assets by site/team with lifecycle history.</p>
    </div>

    <div class="card">
      <i class="fas fa-heart-pulse"></i>
      <h3>Health Scoring</h3>
      <p>Rule-based scoring from measurable signals (performance, errors, storage health, battery). ML roadmap as data grows.</p>
    </div>

    <div class="card">
      <i class="fas fa-bell"></i>
      <h3>Risk Alerts</h3>
      <p>Early warnings for high-risk assets to prevent disruption and reduce reactive ‚Äúbreak-fix‚Äù incidents.</p>
    </div>

    <div class="card">
      <i class="fas fa-calendar-check"></i>
      <h3>Preventative Scheduling</h3>
      <p>Automated maintenance schedules and task assignments with audit trail and outcomes tracking.</p>
    </div>

    <div class="card">
      <i class="fas fa-chart-line"></i>
      <h3>Analytics & Reporting</h3>
      <p>Downtime reduction metrics, asset performance trends, and actionable reports for operational decisions.</p>
    </div>
  </div>
</section>

<!-- INNOVATION (NEW: Innovator Visa-friendly proof) -->
<section class="innovation" id="innovation">
  <h2>Innovation, Viability & Scalability</h2>
  <div class="desc">
    SMEs typically rely on reactive support. BPK shifts this to a platform-led model: monitor signals, predict risk,
    and automate preventative maintenance‚Äîbuilt to scale beyond local services.
  </div>

  <div class="pill-grid">
    <div class="pill">
      <h3><i class="fas fa-lightbulb"></i> Innovation</h3>
      <ul>
        <li>SME-friendly smart asset intelligence (fast to deploy, affordable)</li>
        <li>Health scoring + automation from measurable device/equipment signals</li>
        <li>Roadmap to predictive analytics and anomaly detection as dataset grows</li>
      </ul>
    </div>

    <div class="pill">
      <h3><i class="fas fa-check-circle"></i> Viability</h3>
      <ul>
        <li>Founder capability aligned to engineering + reliability mindset</li>
        <li>Pilot-first approach to validate savings and outcomes</li>
        <li>Clear operational model: onboarding ‚Üí monitoring ‚Üí preventative actions</li>
      </ul>
    </div>

    <div class="pill">
      <h3><i class="fas fa-globe"></i> Scalability</h3>
      <ul>
        <li>Subscription model (SaaS) enabling national rollout</li>
        <li>Partner delivery model for onboarding and expansion</li>
        <li>Job creation roadmap: engineering, customer success, sales</li>
      </ul>
    </div>
  </div>
</section>

<!-- SUPPORT (Secondary) -->
<section class="services" id="support">
  <h2>Implementation & Support (Secondary)</h2>
  <div class="desc">
    These services support adoption of the platform. Traditional repairs remain available, but they are not the core focus
    of BPK‚Äôs scalable innovation model.
  </div>

  <div class="grid">
    <div class="card"><i class="fas fa-people-arrows"></i><h3>Onboarding</h3><p>Setup, asset discovery and baseline health assessment for your organisation.</p></div>
    <div class="card"><i class="fas fa-shield-virus"></i><h3>Security Hardening</h3><p>Endpoint protection, malware clean-up, patching policies and user safety guidance.</p></div>
    <div class="card"><i class="fas fa-screwdriver-wrench"></i><h3>Break-Fix (Optional)</h3><p>Repair and upgrades available as optional support‚Äîplatform-led maintenance remains primary.</p></div>
    <div class="card"><i class="fas fa-database"></i><h3>Backup & Recovery</h3><p>Backup strategy and recovery support aligned to business continuity planning.</p></div>
    <div class="card"><i class="fas fa-network-wired"></i><h3>SME IT Optimisation</h3><p>Network and device optimisation, monitoring, and performance improvements.</p></div>
  </div>
</section>

</div>
    <button class="next" aria-label="Next testimonials">&#10095;</button>
  </div>
</section>

<!-- =========================
     NEW: Leave a Review Section
     ========================= -->
<section class="reviews" id="reviews">
  <h2>Leave a Review</h2>
  <div class="desc">
    Your feedback helps us improve and helps other customers choose BPK.
    (If you prefer, you can also leave a Google review using the link below.)
  </div>

  <div class="review-wrap">
    <!-- Left: Review Form -->
    <div class="review-card">
      <h3><i class="fas fa-pen-to-square"></i> Submit your review</h3>

      <form class="review-form" id="reviewForm">
        <div class="form-row">
          <div>
            <label for="reviewName">Name</label>
            <input id="reviewName" name="name" type="text" placeholder="Your name" required />
          </div>
          <div>
            <label for="reviewEmail">Email (optional)</label>
            <input id="reviewEmail" name="email" type="email" placeholder="name@email.com" />
          </div>
        </div>

        <div>
          <label>Rating</label>
          <div class="star-picker">
            <div class="stars" id="starRow" aria-label="Select rating out of 5">
              <span class="star" data-value="1" aria-label="1 star">‚òÖ</span>
              <span class="star" data-value="2" aria-label="2 stars">‚òÖ</span>
              <span class="star" data-value="3" aria-label="3 stars">‚òÖ</span>
              <span class="star" data-value="4" aria-label="4 stars">‚òÖ</span>
              <span class="star" data-value="5" aria-label="5 stars">‚òÖ</span>
            </div>
            <span class="review-muted" id="ratingText">No rating selected</span>
          </div>
          <div class="small-hint">Tip: click stars to set your rating.</div>
          <input type="hidden" id="reviewRating" name="rating" value="" required />
        </div>

        <div>
          <label for="reviewMessage">Your review</label>
          <textarea id="reviewMessage" name="message" placeholder="Tell us about your experience‚Ä¶" required></textarea>
        </div>

        <label class="review-muted" style="display:flex; gap:10px; align-items:flex-start;">
          <input type="checkbox" id="reviewConsent" required style="margin-top:4px;" />
          I confirm this review is genuine and I‚Äôm happy for it to be shown on the website.
        </label>

        <div class="review-actions">
          <button type="submit" class="review-btn">
            <i class="fas fa-paper-plane"></i> Submit Review
          </button>

          <a class="review-btn" style="text-decoration:none; background:#2ecc71;"
             href="https://www.google.com/search?q=BPK%20Computer%20Repair%20and%20Services%20reviews"
             target="_blank" rel="noopener">
            <i class="fab fa-google"></i> Leave Google Review
          </a>
        </div>

        <div id="reviewToast" class="review-toast"></div>
        <div class="review-muted" style="margin-top:8px;">
          Reviews are moderated for spam. If you submitted and don‚Äôt see it immediately, it may still be processing.
        </div>
      </form>
    </div>

    <!-- Right: Recently Submitted Reviews -->
    <div class="review-card">
      <h3><i class="fas fa-comments"></i> Recent Website Reviews</h3>
      <div class="review-muted">
        These are reviews submitted via this website form.
      </div>
      <div class="review-list" id="reviewList"></div>
    </div>
  </div>
</section>

<!-- Footer (kept, but updated name) -->
<footer class="footer">
  &copy; 2026 BPK Technologies (BPK Computer Services). All rights reserved.
  <div class="gdpr">We comply with GDPR and handle your data responsibly.</div>
  <div style="margin-top: 15px;">
    <strong>üìç Location:</strong> Preston, UK<br />
    <strong>üïí Business Hours:</strong> Saturday & Sunday, 10:00 AM ‚Äì 10:30 PM
  </div>
  <div style="margin-top: 15px;">
    <a href="https://www.facebook.com/share/1ASn3THFMY/?mibextid=wwXIfr" target="_blank" style="color: #fff; margin: 0 10px; font-size: 1.5em;">
      <i class="fab fa-facebook"></i>
    </a>
    <a href="https://wa.me/447818955500" target="_blank" style="color: #25D366; margin: 0 10px; font-size: 1.5em;">
      <i class="fab fa-whatsapp"></i>
    </a>
    <a href="https://maps.app.goo.gl/MU78urvGdNf8Wwbf6" target="_blank" style="color: #fff; margin: 0 10px; font-size: 1.5em;">
      <i class="fas fa-map-marker-alt"></i>
    </a>
  </div>

  <div style="margin-top: 20px;">
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2391.7494776583856!2d-2.708851984163432!3d53.75864927995644!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x487b74f999f4db6f%3A0x21708a0dfab28b1c!2s3%20Murray%20St%2C%20Preston%20PR1%207HY%2C%20UK!5e0!3m2!1sen!2suk!4v1719264879572!5m2!1sen!2suk"
      width="100%" height="250" style="border:0; border-radius:10px;" allowfullscreen="" loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
</footer>

<!-- Combined: Testimonial Slider Script + NEW Review Script -->
<script>
  // =========================
  // Testimonials slider
  // =========================
  document.addEventListener('DOMContentLoaded', () => {
    const track = document.querySelector(".testimonial-track");
    const prev = document.querySelector(".testimonial-slider .prev");
    const next = document.querySelector(".testimonial-slider .next");
    const cards = document.querySelectorAll(".testimonial-card");

    if (track && prev && next && cards.length) {
      let currentIndex = 0;

      function getVisibleCardsCount() {
        return window.innerWidth >= 768 ? 3 : 1;
      }

      function updateSlider() {
        const visibleCards = getVisibleCardsCount();
        const cardWidth = cards[0].offsetWidth + 20;
        const maxIndex = Math.max(0, cards.length - visibleCards);

        if (currentIndex < 0) currentIndex = 0;
        if (currentIndex > maxIndex) currentIndex = maxIndex;

        track.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
      }

      prev.addEventListener("click", () => { currentIndex--; updateSlider(); });
      next.addEventListener("click", () => { currentIndex++; updateSlider(); });

      window.addEventListener("resize", () => updateSlider());
      updateSlider();
    }
  });

  // =========================
  // NEW: Review Form + Stars
  // =========================

  // OPTIONAL: Google Sheets endpoint (Apps Script Web App URL)
  // Paste your deployed Apps Script URL here:
  // const REVIEW_ENDPOINT = "https://script.google.com/macros/s/XXXX/exec";
  const REVIEW_ENDPOINT = "";

  const reviewForm = document.getElementById("reviewForm");
  const reviewList = document.getElementById("reviewList");
  const reviewToast = document.getElementById("reviewToast");

  const starRow = document.getElementById("starRow");
  const ratingText = document.getElementById("ratingText");
  const ratingInput = document.getElementById("reviewRating");

  function setToast(type, msg) {
    if (!reviewToast) return;
    reviewToast.className = "review-toast " + (type === "ok" ? "ok" : "err");
    reviewToast.textContent = msg;
  }

  function clearToast() {
    if (!reviewToast) return;
    reviewToast.className = "review-toast";
    reviewToast.textContent = "";
  }

  function renderStars(value) {
    if (!starRow) return;
    const stars = starRow.querySelectorAll(".star");
    stars.forEach((s) => {
      const v = Number(s.dataset.value);
      s.classList.toggle("active", v <= value);
    });
  }

  function ratingLabel(value) {
    const labels = {1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"};
    return labels[value] || "No rating selected";
  }

  // Click stars
  if (starRow) {
    starRow.addEventListener("click", (e) => {
      const star = e.target.closest(".star");
      if (!star) return;
      const value = Number(star.dataset.value);
      if (ratingInput) ratingInput.value = String(value);
      if (ratingText) ratingText.textContent = `${value}/5 ‚Äî ${ratingLabel(value)}`;
      renderStars(value);
      clearToast();
    });
  }

  // Local storage reviews (fallback)
  const LS_KEY = "bpk_site_reviews_v1";

  function loadLocalReviews() {
    try {
      const raw = localStorage.getItem(LS_KEY);
      return raw ? JSON.parse(raw) : [];
    } catch {
      return [];
    }
  }

  function saveLocalReview(review) {
    const all = loadLocalReviews();
    all.unshift(review);
    localStorage.setItem(LS_KEY, JSON.stringify(all.slice(0, 12))); // keep latest 12
  }

  function escapeHTML(str) {
    return String(str)
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  function renderReviewList() {
    const reviews = loadLocalReviews();
    if (!reviewList) return;

    if (reviews.length === 0) {
      reviewList.innerHTML = `
        <div class="user-review">
          <div class="meta">No website reviews yet. Be the first to leave one! ‚≠ê</div>
        </div>
      `;
      return;
    }

    reviewList.innerHTML = reviews.map(r => {
      const stars = "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ".slice(0, r.rating) + "‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ".slice(0, 5 - r.rating);
      return `
        <div class="user-review">
          <div class="top">
            <div class="name">${escapeHTML(r.name)}</div>
            <div class="meta">${escapeHTML(stars)} ‚Ä¢ ${escapeHTML(r.date)}</div>
          </div>
          <div class="body">${escapeHTML(r.message)}</div>
        </div>
      `;
    }).join("");
  }

  async function submitReviewToEndpoint(payload) {
    const res = await fetch(REVIEW_ENDPOINT, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
    if (!res.ok) throw new Error("Network error");
    return true;
  }

  if (reviewForm) {
    reviewForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      clearToast();

      const name = document.getElementById("reviewName")?.value.trim();
      const email = document.getElementById("reviewEmail")?.value.trim();
      const rating = Number(document.getElementById("reviewRating")?.value);
      const message = document.getElementById("reviewMessage")?.value.trim();
      const consent = document.getElementById("reviewConsent")?.checked;

      if (!name || !message || !consent || !rating || rating < 1 || rating > 5) {
        setToast("err", "Please fill in your name, rating (stars), review message, and consent.");
        return;
      }

      const payload = {
        name,
        email,
        rating,
        message,
        date: new Date().toLocaleDateString("en-GB", { day:"2-digit", month:"short", year:"numeric" }),
        page: location.pathname || "/",
        source: "website_form"
      };

      try {
        // If Apps Script endpoint is set, send there; also save locally for immediate display
        if (REVIEW_ENDPOINT && REVIEW_ENDPOINT.startsWith("http")) {
          await submitReviewToEndpoint(payload);
        }

        saveLocalReview(payload);
        renderReviewList();

        reviewForm.reset();
        if (ratingInput) ratingInput.value = "";
        if (ratingText) ratingText.textContent = "No rating selected";
        renderStars(0);

        setToast("ok", "Thank you! Your review has been submitted.");
      } catch (err) {
        // Save locally anyway so you don't lose it
        saveLocalReview(payload);
        renderReviewList();
        setToast("ok", "Submitted locally. (To store in Google Sheets, add your Apps Script URL in the code.)");
      }
    });
  }

  // Initial render
  document.addEventListener("DOMContentLoaded", () => {
    renderReviewList();
    renderStars(0);
  });
</script>

</body>
</html>
